name: 'Centaur Integration Tests'

#This github action runs all of Cromwell's unit tests.

#This is what shows up in the github workflows page as the title. 
run-name: ${{ github.actor }} running Centaur Integration Tests.

#What will trigger the workflow to run. 
on:
  workflow_dispatch: #Manual trigger from GitHub UI
  push:

permissions: 
  contents: read

jobs:
  centaur-tests: 
    env:
      BUILD_NAME: centaurPapiUpgradePapiV2alpha1
      BUILD_TYPE: centaurPapiUpgradePapiV2alpha1
      BUILD_MYSQL: 5.7
    runs-on: ubuntu-latest
    timeout-minutes: 120
    steps:
    - uses: actions/checkout@v3 # checkout the cromwell repo
    - run: src/ci/bin/test.sh
