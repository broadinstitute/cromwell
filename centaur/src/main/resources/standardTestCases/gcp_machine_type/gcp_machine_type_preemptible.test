name: gcp_machine_type_preemptible
testFormat: workflowsuccess
backends: [GCPBATCH]

files {
  workflow: gcp_machine_type.wdl
  inputs: preemptible_inputs.json
}

# Compute engine metadata docs: https://cloud.google.com/compute/docs/metadata/predefined-metadata-keys#instance-metadata
metadata {
    "calls.minimal_hello_world.hello_world.runtimeAttributes.gcp_machine_type": "n2-standard-2"
    "calls.minimal_hello_world.hello_world.runtimeAttributes.preemptible": "5"
    "outputs.minimal_hello_world.actual_machine_type": ~~"machineTypes/n2-standard-2"
    "outputs.minimal_hello_world.is_preemptible": "TRUE"
}
