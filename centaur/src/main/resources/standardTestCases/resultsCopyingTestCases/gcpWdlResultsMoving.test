name: gcpWdlResultsMoving
testFormat: workflowsuccess
tags: ["copyGcp"]

# Will run on a Cromwell that supports any one of these backends
backendsMode: any
backends: [Papi, Papiv2, GCPBatch]

files {
  workflow: wdlResultsCopying/simpleWorkflow.wdl
  options: wdlResultsMoving/gcp/options.json
}

metadata {
  status: Succeeded
}

# The `cloud-cromwell-dev-self-cleaning-fast` bucket is in a different region than the workflow runs
fileSystemCheck: "gcs"
outputExpectations: {
    "gs://cloud-cromwell-dev-self-cleaning-fast/move_destination/simpleWorkflow/<<UUID>>/call-simpleStdoutTask/output.txt": 1
    "gs://cloud-cromwell-dev-self-cleaning/cromwell_execution/ci/simpleWorkflow/<<UUID>>/call-simpleStdoutTask/output.txt": 0
}
