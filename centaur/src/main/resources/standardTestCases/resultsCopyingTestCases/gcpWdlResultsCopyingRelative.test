name: gcpWdlResultsCopyingRelative
testFormat: workflowsuccess
backends: [Papi, Papiv2, gcpbatch]
tags: ["copyGcp"]

# Will run on a Cromwell that supports any one of these backends
backendsMode: any
backends: [Papi, Papiv2, GCPBatch]

files {
  workflow: wdlResultsCopying/simpleWorkflow.wdl
  options: wdlResultsCopying/gcp/optionsRelative.json
}

metadata {
  status: Succeeded
}

fileSystemCheck: "gcs"
outputExpectations: {
    "gs://<<bucket-name-placeholder>>/wf_results/output.txt": 1
    "gs://<<bucket-name-placeholder>>/wf_logs/workflow.<<UUID>>.log": 1
    "gs://<<bucket-name-placeholder>>/cl_logs/simpleWorkflow/<<UUID>>/call-simpleStdoutTask/stderr": 1
    "gs://<<bucket-name-placeholder>>/cl_logs/simpleWorkflow/<<UUID>>/call-simpleStdoutTask/stdout": 1
    "gs://<<bucket-name-placeholder>>/cl_logs/simpleWorkflow/<<UUID>>/call-simpleStdoutTask/simpleStdoutTask.log": 1
}
